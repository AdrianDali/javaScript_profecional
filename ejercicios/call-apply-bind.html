<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <a href="/ejercicios/">Go back</a>
    <p><em>Abre consola</em></p>

    <h1>
      <code>call, apply y bind</code> metodos</h1>

      <ul>
          <li><button class= "call-to-action">Apreder</button></li>
          <li><button class= "call-to-action">Apreder mas</button></li>
          <li><button class= "call-to-action">nunca pares de Apreder</button></li>
      </ul>

    <script>
        //Establece `this` usando `call`
        function saludar() {
            console.log(`Hola. Soy ${this.name} ${this.apellido}`)
        }
        const richard = {
            name: "richard",
            apellido: "Kaufman Lopez"
        }
        saludar.call(richard)

        // ----------------------------------------------------------------
        //establece this usando call y pasar argumentos a la funcion 
        function caminar(metros, direccion){
            console.log(`${this.name} camina ${metros} metros hacia ${direccion}`)
        }
        caminar.call(richard,400, "norte")
        
        //Establece `this` usando `apply` y pasar argumentos a la funcion 
        //es lo mismo que call pero hay situciones donde uno combiene mas
        caminar.apply(richard,[800, "noreste"])

        /** CALL SON ELEMEENTOS SEPARADOS POR COMAS
            APLLY RECIBE UN ARREGLO DE ARGUMENTOS
            
            BIND A DIFERENCIA DE LOS DOS ANTERIORES QUE VIMOS, BIND 
            NO VA A LLAMAR A LA FUNCION AUTOMATICAMENTE. LO QUE VA HACER ES 
            CONSTRUIR UNA NUEVA FUNCION CON EL THIS INTEGRADO, CUANDIO LA 
            LLAMEMOS VA A FUNCIONAR**/

        //ESTABLECER THIS EN UNA NUEVA FUNCION USANDO BIND
        const daniel = {name: "Daniel" , apellido: "sanches"}    
        const danielsaluda = saludar.bind(daniel)
        danielsaluda()

        //FUNCTION CURRYING ES QUE GUARDAMOS PARCIALMENTE ALGUNOS ELEMENTOS 
        // Y LUEGO PODEMOS PASAR LOS DEMAS
        const danielCamina = caminar.bind(daniel, 2000)
        danielCamina('oeste');

        //cuando es util utilizar uno de estos metodos
        const buttons = document.getElementsByClassName("call-to-action")
        //buttons.forEach(button => {
        //    button.onclick = () => alert('nunca')
        //})
        //buttons es un node list

        //node list 
        Array.prototype.forEach.call(buttons,button => {
            button.onclick = () => 
         alert('Nunca pares de aprender')})
        
    </script>
  </body>
</html>
